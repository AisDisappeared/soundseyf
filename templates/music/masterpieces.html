{% extends 'base.html' %}
{% load static %}
{% load thumbnail %}
{% block content %}
<style>
  /* Custom styles */
  .card {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    border-radius: 10px;
    margin-bottom: 20px;
  }

  .composer-image {
    border-radius: 10px 0 0 10px;
    max-height: 300px;
    object-fit: cover;
  }

  .composer-details {
    padding: 20px;
  }

  .composer-name {
    font-size: 24px;
    color: #2c3e50; /* Dark Blue */
    margin-bottom: 10px;
  }

  .composer-bio {
    color: #34495e; /* Blue Gray */
    margin-bottom: 20px;
  }

  .genre-nationality {
    color: #34495e; /* Blue Gray */
    margin-bottom: 10px;
  }

  .piece-name {
    margin-top: 20px;
    font-size: 18px;
    color: #2c3e50; /* Dark Blue */
  }

  .pagination {
    justify-content: center;
    margin-top: 30px;
  }

  /* Quote styles */
  .quote-card {
    background-color: #ecf0f1; /* Silver */
    border-radius: 10px;
    margin-bottom: 20px;
    padding: 15px;
  }

  .quote-text {
    font-size: 18px;
    font-style: italic;
    color: #2c3e50; /* Dark Blue */
  }

  .quote-author {
    margin-top: 10px;
    font-weight: bold;
    color: #34495e; /* Blue Gray */
  }

  /* Sidebar styles */
  .sidebar-card {
    padding: 20px;
  }

  .sidebar-title {
    color: #2c3e50; /* Dark Blue */
    margin-bottom: 20px;
  }

  .sidebar-link {
    color: #fff;
    margin-bottom: 10px;
    display: block;
  }
</style>

<div class="container">
  <div class="row">
    <!-- Main content -->
    <div class="col-md-8 card">
      <div class="row g-0">
        <div class="col-md-4">
          <div class="composer-image">
            {% thumbnail composer.image "300x300" crop="center" as im %}
            <img src="{{ im.url }}" alt="{{ composer.name }}">
            {% endthumbnail %}
          </div>
        </div>
        <div class="col-md-8 composer-details" style="padding-left: 4%;">
          <a style="text-decoration: none;" href="{% url 'music:pieces' cid=composer.id %}"><h2 class="composer-name">{{ composer.name }}</h2></a>
          <p class="composer-bio">{{ composer.biography }}</p>
          <p class="genre-nationality"><strong>Genre:</strong> {{ composer.genre }} | <strong>Nationality:</strong> {{ composer.nationality }}</p>
          <hr>
          {% for piece in pieces %}
          <div class="piece-name">{{ piece.name }}</div>
          <audio controls>
            <source src="/media/{{ piece.song }}" type="audio/mp3">
          </audio>
          <hr>
          {% endfor %}


          <!-- Pagination -->
          <nav aria-label="Pagination">
            <ul class="pagination justify-content-center">
              {% if pieces.has_previous %}
              <li class="page-item">
                <a class="page-link" href="?page=1">First</a>
              </li>
              <li class="page-item">
                <a class="page-link" href="?page={{ pieces.previous_page_number }}">Previous</a>
              </li>
              {% endif %}
              <li class="page-item disabled">
                <a class="page-link" href="#">Page {{ pieces.number }} of {{ pieces.paginator.num_pages }}</a>
              </li>
              {% if pieces.has_next %}
              <li class="page-item">
                <a class="page-link" href="?page={{ pieces.next_page_number }}">Next</a>
              </li>
              <li class="page-item">
                <a class="page-link" href="?page={{ pieces.paginator.num_pages }}">Last</a>
              </li>
              {% endif %}
            </ul>
          </nav>


        </div>
      </div>
    </div>
    <!-- Sidebar -->
    <div class="col-md-4">
      <!-- Composer Quotes -->
      <div class="quote-card">
        <h3 class="sidebar-title">Composer Quotes</h3>
        <ul class="quote-list">
          <li>
            <div class="quote-text">"The guitar is a small orchestra. It is polyphonic. Every string is a different color, a different voice."</div>
            <div class="quote-author">- Andrés Segovia</div>
          </li>
          <li>
            <div class="quote-text">"Nothing is more beautiful than a guitar, except, possibly two."</div>
            <div class="quote-author">- Frédéric Chopin</div>
          </li>
          <li>
            <div class="quote-text">"The guitar is the easiest instrument to play and the hardest to play well."</div>
            <div class="quote-author">- Andrés Segovia</div>
          </li>
          <li>
            <div class="quote-text">"With the guitar I've suffered a great deal, but when I've had a good time, the suffering seemed worthwhile."</div>
            <div class="quote-author">- Paco de Lucía</div>
          </li>
        </ul>
      </div>
      <!-- Blog About -->
      <div class="card sidebar-card" style="background-color: #ecf0f1;">
        <h3 class="sidebar-title">About</h3>
        <p class="card-text">Blog App Created By Django And Designed By BootsWatch Theme for UI - you can also visit My website ....</p>
        <a href="https://bekbrace.com" class="sidebar-link btn btn-danger">Visit Website</a>
        <a href="https://docs.djangoproject.com/en/3.1" class="sidebar-link btn btn-secondary">Django Docs</a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
